<?php

namespace App\Http\Controllers;
use Illuminate\Http\Request;
use JeroenG\Flickr;
use Mapper;

class FlickrController extends Controller
{
    /**
     * @var FlickrRepositoryContract
     */
    protected $flickr;

    /**
     * Initialize Flickr API using DI approach.
     *
     * FlickrController constructor.
     * @param FlickrRepositoryContract $flickr
     */
    public function __construct()
    {
       $this->flickr = new Flickr\Flickr(new Flickr\Api(env('FLICKR_KEY'), env('FLICKR_API_FORMAT')));
    }

    /**
     * Display search page.
     *
     * @throws \Exception
     */
    public function index()
    {
        return view('home.home');
    }

    /**
     * Search photos
     *
     * @param FlickrSearchRequest $request
     * @return \Illuminate\Contracts\View\Factory|\Illuminate\View\View
     * @throws \Exception
     */
    public function search(Request $request)
    {
        Mapper::map(43.104551, -2.361174, ['marker' => false]);
         Mapper::polyline([['latitude' => "43.098551", 'longitude' => "-2.381174"], ['latitude' => "43.098426", 'longitude' => "-2.380940"], ['latitude' => "43.098303", 'longitude' => "-2.380774"], ['latitude' => "43.098197", 'longitude' => "-2.380674"], ['latitude' => "43.097975", 'longitude' => "-2.380551"], ['latitude' => "43.097772", 'longitude' => "-2.380443"], ['latitude' => "43.097450", 'longitude' => "-2.380228"], ['latitude' => "43.097280", 'longitude' => "-2.379993"], ['latitude' => "43.097179", 'longitude' => "-2.379520"], ['latitude' => "43.096962", 'longitude' => "-2.379008"], ['latitude' => "43.096173", 'longitude' => "-2.378093"], ['latitude' => "43.096037", 'longitude' => "-2.377267"], ['latitude' => "43.096186", 'longitude' => "-2.377056"], ['latitude' => "43.096063", 'longitude' => "-2.376706"], ['latitude' => "43.096153", 'longitude' => "-2.376469"], ['latitude' => "43.096753", 'longitude' => "-2.376550"], ['latitude' => "43.097023", 'longitude' => "-2.376418"], ['latitude' => "43.097603", 'longitude' => "-2.377528"], ['latitude' => "43.098192", 'longitude' => "-2.377879"], ['latitude' => "43.098454", 'longitude' => "-2.377772"], ['latitude' => "43.098555", 'longitude' => "-2.377492"], ['latitude' => "43.098738", 'longitude' => "-2.377193"], ['latitude' => "43.098892", 'longitude' => "-2.377276"], ['latitude' => "43.099241", 'longitude' => "-2.378059"], ['latitude' => "43.099768", 'longitude' => "-2.377732"], ['latitude' => "43.099882", 'longitude' => "-2.377503"], ['latitude' => "43.099895", 'longitude' => "-2.377122"], ['latitude' => "43.099787", 'longitude' => "-2.376628"], ['latitude' => "43.099853", 'longitude' => "-2.376370"], ['latitude' => "43.099997", 'longitude' => "-2.376115"], ['latitude' => "43.100524", 'longitude' => "-2.376001"], ['latitude' => "43.100558", 'longitude' => "-2.375902"], ['latitude' => "43.099789", 'longitude' => "-2.375135"], ['latitude' => "43.099339", 'longitude' => "-2.374494"], ['latitude' => "43.099215", 'longitude' => "-2.374181"], ['latitude' => "43.099321", 'longitude' => "-2.373700"], ['latitude' => "43.099359", 'longitude' => "-2.373257"], ['latitude' => "43.099397", 'longitude' => "-2.372777"], ['latitude' => "43.099340", 'longitude' => "-2.372353"], ['latitude' => "43.099191", 'longitude' => "-2.372151"], ['latitude' => "43.099000", 'longitude' => "-2.372006"], ['latitude' => "43.098676", 'longitude' => "-2.372009"], ['latitude' => "43.098419", 'longitude' => "-2.372067"], ['latitude' => "43.098179", 'longitude' => "-2.372090"], ['latitude' => "43.098079", 'longitude' => "-2.372116"], ['latitude' => "43.097754", 'longitude' => "-2.372059"], ['latitude' => "43.097431", 'longitude' => "-2.371872"], ['latitude' => "43.097268", 'longitude' => "-2.371548"], ['latitude' => "43.097217", 'longitude' => "-2.371183"], ['latitude' => "43.097128", 'longitude' => "-2.370563"], ['latitude' => "43.096901", 'longitude' => "-2.370223"], ['latitude' => "43.096460", 'longitude' => "-2.369927"], ['latitude' => "43.096233", 'longitude' => "-2.369597"], ['latitude' => "43.096220", 'longitude' => "-2.368788"], ['latitude' => "43.096524", 'longitude' => "-2.368136"], ['latitude' => "43.096381", 'longitude' => "-2.367564"], ['latitude' => "43.095818", 'longitude' => "-2.366892"], ['latitude' => "43.095757", 'longitude' => "-2.366547"], ['latitude' => "43.096034", 'longitude' => "-2.365648"], ['latitude' => "43.096174", 'longitude' => "-2.364845"], ['latitude' => "43.096321", 'longitude' => "-2.364243"], ['latitude' => "43.096476", 'longitude' => "-2.363795"], ['latitude' => "43.096776", 'longitude' => "-2.363506"], ['latitude' => "43.097283", 'longitude' => "-2.363000"], ['latitude' => "43.097843", 'longitude' => "-2.362440"], ['latitude' => "43.098050", 'longitude' => "-2.361991"], ['latitude' => "43.098098", 'longitude' => "-2.361588"], ['latitude' => "43.098175", 'longitude' => "-2.361070"], ['latitude' => "43.098285", 'longitude' => "-2.360642"], ['latitude' => "43.098547", 'longitude' => "-2.359868"], ['latitude' => "43.098731", 'longitude' => "-2.359635"], ['latitude' => "43.099026", 'longitude' => "-2.359590"], ['latitude' => "43.099115", 'longitude' => "-2.359463"], ['latitude' => "43.099256", 'longitude' => "-2.359039"], ['latitude' => "43.099462", 'longitude' => "-2.358798"], ['latitude' => "43.099902", 'longitude' => "-2.358506"], ['latitude' => "43.099767", 'longitude' => "-2.358304"], ['latitude' => "43.099649", 'longitude' => "-2.358055"], ['latitude' => "43.099601", 'longitude' => "-2.357985"], ['latitude' => "43.099534", 'longitude' => "-2.357875"], ['latitude' => "43.099479", 'longitude' => "-2.357467"], ['latitude' => "43.099426", 'longitude' => "-2.357215"], ['latitude' => "43.099322", 'longitude' => "-2.356653"], ['latitude' => "43.099224", 'longitude' => "-2.356096"], ['latitude' => "43.099180", 'longitude' => "-2.355856"], ['latitude' => "43.099060", 'longitude' => "-2.355564"], ['latitude' => "43.098941", 'longitude' => "-2.355105"], ['latitude' => "43.098897", 'longitude' => "-2.355128"], ['latitude' => "43.098822", 'longitude' => "-2.355319"], ['latitude' => "43.098702", 'longitude' => "-2.355465"], ['latitude' => "43.098593", 'longitude' => "-2.355653"], ['latitude' => "43.098576", 'longitude' => "-2.355697"], ['latitude' => "43.098550", 'longitude' => "-2.355959"], ['latitude' => "43.098399", 'longitude' => "-2.356078"], ['latitude' => "43.098140", 'longitude' => "-2.356051"], ['latitude' => "43.097907", 'longitude' => "-2.355890"], ['latitude' => "43.097679", 'longitude' => "-2.355424"], ['latitude' => "43.097501", 'longitude' => "-2.355131"], ['latitude' => "43.097429", 'longitude' => "-2.355128"], ['latitude' => "43.097358", 'longitude' => "-2.355219"], ['latitude' => "43.097337", 'longitude' => "-2.355246"], ['latitude' => "43.097180", 'longitude' => "-2.355542"], ['latitude' => "43.097006", 'longitude' => "-2.355950"], ['latitude' => "43.096868", 'longitude' => "-2.356010"], ['latitude' => "43.096806", 'longitude' => "-2.355934"], ['latitude' => "43.096743", 'longitude' => "-2.355623"], ['latitude' => "43.096729", 'longitude' => "-2.355118"], ['latitude' => "43.096807", 'longitude' => "-2.354773"], ['latitude' => "43.096816", 'longitude' => "-2.354614"], ['latitude' => "43.096823", 'longitude' => "-2.354358"], ['latitude' => "43.097111", 'longitude' => "-2.353248"], ['latitude' => "43.097127", 'longitude' => "-2.352718"], ['latitude' => "43.097383", 'longitude' => "-2.352409"], ['latitude' => "43.097697", 'longitude' => "-2.352061"], ['latitude' => "43.097531", 'longitude' => "-2.351629"], ['latitude' => "43.097489", 'longitude' => "-2.351251"], ['latitude' => "43.097359", 'longitude' => "-2.350896"], ['latitude' => "43.097165", 'longitude' => "-2.350394"], ['latitude' => "43.096913", 'longitude' => "-2.349915"], ['latitude' => "43.096587", 'longitude' => "-2.349422"], ['latitude' => "43.096379", 'longitude' => "-2.349000"], ['latitude' => "43.096108", 'longitude' => "-2.348556"], ['latitude' => "43.095888", 'longitude' => "-2.348345"], ['latitude' => "43.095465", 'longitude' => "-2.348437"], ['latitude' => "43.094942", 'longitude' => "-2.348816"], ['latitude' => "43.094829", 'longitude' => "-2.349040"], ['latitude' => "43.094679", 'longitude' => "-2.349096"], ['latitude' => "43.094543", 'longitude' => "-2.349064"], ['latitude' => "43.094560", 'longitude' => "-2.348841"], ['latitude' => "43.094706", 'longitude' => "-2.348275"], ['latitude' => "43.094847", 'longitude' => "-2.347785"], ['latitude' => "43.094975", 'longitude' => "-2.347177"], ['latitude' => "43.095057", 'longitude' => "-2.346840"], ['latitude' => "43.095610", 'longitude' => "-2.346047"], ['latitude' => "43.095691", 'longitude' => "-2.345810"], ['latitude' => "43.095548", 'longitude' => "-2.345492"], ['latitude' => "43.095378", 'longitude' => "-2.345164"], ['latitude' => "43.095009", 'longitude' => "-2.344754"], ['latitude' => "43.094639", 'longitude' => "-2.344463"], ['latitude' => "43.094442", 'longitude' => "-2.344344"], ['latitude' => "43.094432", 'longitude' => "-2.344306"], ['latitude' => "43.094053", 'longitude' => "-2.343756"], ['latitude' => "43.093942", 'longitude' => "-2.343276"], ['latitude' => "43.094006", 'longitude' => "-2.342678"], ['latitude' => "43.094040", 'longitude' => "-2.342386"], ['latitude' => "43.093916", 'longitude' => "-2.342125"], ['latitude' => "43.093959", 'longitude' => "-2.342076"], ['latitude' => "43.094142", 'longitude' => "-2.342349"], ['latitude' => "43.094630", 'longitude' => "-2.343213"], ['latitude' => "43.095060", 'longitude' => "-2.343536"], ['latitude' => "43.095358", 'longitude' => "-2.343685"], ['latitude' => "43.095743", 'longitude' => "-2.343785"], ['latitude' => "43.095992", 'longitude' => "-2.343977"], ['latitude' => "43.096268", 'longitude' => "-2.344139"], ['latitude' => "43.096418", 'longitude' => "-2.344193"], ['latitude' => "43.096439", 'longitude' => "-2.344087"], ['latitude' => "43.096065", 'longitude' => "-2.343592"], ['latitude' => "43.095976", 'longitude' => "-2.343396"], ['latitude' => "43.095799", 'longitude' => "-2.342956"], ['latitude' => "43.095823", 'longitude' => "-2.342530"], ['latitude' => "43.095936", 'longitude' => "-2.342327"], ['latitude' => "43.096150", 'longitude' => "-2.342196"], ['latitude' => "43.096354", 'longitude' => "-2.342079"], ['latitude' => "43.096448", 'longitude' => "-2.342002"], ['latitude' => "43.096600", 'longitude' => "-2.341739"], ['latitude' => "43.096668", 'longitude' => "-2.341430"], ['latitude' => "43.096768", 'longitude' => "-2.341070"], ['latitude' => "43.096825", 'longitude' => "-2.340699"], ['latitude' => "43.096899", 'longitude' => "-2.340407"], ['latitude' => "43.096970", 'longitude' => "-2.340271"], ['latitude' => "43.097071", 'longitude' => "-2.340223"], ['latitude' => "43.097209", 'longitude' => "-2.340205"], ['latitude' => "43.097323", 'longitude' => "-2.340225"], ['latitude' => "43.097452", 'longitude' => "-2.340196"], ['latitude' => "43.097608", 'longitude' => "-2.340155"], ['latitude' => "43.097744", 'longitude' => "-2.340142"], ['latitude' => "43.097908", 'longitude' => "-2.340148"], ['latitude' => "43.097949", 'longitude' => "-2.340108"], ['latitude' => "43.098039", 'longitude' => "-2.339969"], ['latitude' => "43.098121", 'longitude' => "-2.339856"], ['latitude' => "43.098198", 'longitude' => "-2.339569"], ['latitude' => "43.098269", 'longitude' => "-2.339331"], ['latitude' => "43.098267", 'longitude' => "-2.339284"], ['latitude' => "43.098313", 'longitude' => "-2.339045"], ['latitude' => "43.098331", 'longitude' => "-2.338784"], ['latitude' => "43.098335", 'longitude' => "-2.338581"], ['latitude' => "43.098336", 'longitude' => "-2.338343"], ['latitude' => "43.098334", 'longitude' => "-2.338083"], ['latitude' => "43.098377", 'longitude' => "-2.337837"], ['latitude' => "43.098413", 'longitude' => "-2.337537"], ['latitude' => "43.098410", 'longitude' => "-2.337191"], ['latitude' => "43.098452", 'longitude' => "-2.336837"], ['latitude' => "43.098459", 'longitude' => "-2.336675"], ['latitude' => "43.098424", 'longitude' => "-2.336433"], ['latitude' => "43.098485", 'longitude' => "-2.336309"], ['latitude' => "43.098554", 'longitude' => "-2.336238"], ['latitude' => "43.098645", 'longitude' => "-2.335964"], ['latitude' => "43.098668", 'longitude' => "-2.335749"], ['latitude' => "43.098747", 'longitude' => "-2.335470"], ['latitude' => "43.098795", 'longitude' => "-2.335291"], ['latitude' => "43.098802", 'longitude' => "-2.335140"], ['latitude' => "43.098876", 'longitude' => "-2.334982"], ['latitude' => "43.098953", 'longitude' => "-2.334822"], ['latitude' => "43.099019", 'longitude' => "-2.334674"], ['latitude' => "43.099086", 'longitude' => "-2.334363"], ['latitude' => "43.099169", 'longitude' => "-2.334140"], ['latitude' => "43.099275", 'longitude' => "-2.334050"], ['latitude' => "43.099330", 'longitude' => "-2.334031"], ['latitude' => "43.099353", 'longitude' => "-2.334103"], ['latitude' => "43.099416", 'longitude' => "-2.334282"], ['latitude' => "43.099425", 'longitude' => "-2.334389"], ['latitude' => "43.099442", 'longitude' => "-2.334559"], ['latitude' => "43.099473", 'longitude' => "-2.334805"], ['latitude' => "43.099500", 'longitude' => "-2.334975"], ['latitude' => "43.099565", 'longitude' => "-2.335128"], ['latitude' => "43.099679", 'longitude' => "-2.335321"], ['latitude' => "43.099698", 'longitude' => "-2.335436"], ['latitude' => "43.099739", 'longitude' => "-2.335569"], ['latitude' => "43.099823", 'longitude' => "-2.335707"], ['latitude' => "43.099946", 'longitude' => "-2.336095"], ['latitude' => "43.100087", 'longitude' => "-2.336549"], ['latitude' => "43.100201", 'longitude' => "-2.336810"], ['latitude' => "43.100293", 'longitude' => "-2.336977"], ['latitude' => "43.100352", 'longitude' => "-2.337074"], ['latitude' => "43.100382", 'longitude' => "-2.337172"], ['latitude' => "43.100386", 'longitude' => "-2.337350"], ['latitude' => "43.100400", 'longitude' => "-2.337486"], ['latitude' => "43.100414", 'longitude' => "-2.337553"], ['latitude' => "43.100438", 'longitude' => "-2.337581"], ['latitude' => "43.100433", 'longitude' => "-2.337625"], ['latitude' => "43.100415", 'longitude' => "-2.337800"], ['latitude' => "43.100368", 'longitude' => "-2.337917"], ['latitude' => "43.100390", 'longitude' => "-2.338094"], ['latitude' => "43.100370", 'longitude' => "-2.338287"], ['latitude' => "43.100350", 'longitude' => "-2.338442"], ['latitude' => "43.100346", 'longitude' => "-2.338604"], ['latitude' => "43.100373", 'longitude' => "-2.338680"], ['latitude' => "43.100420", 'longitude' => "-2.338806"], ['latitude' => "43.100439", 'longitude' => "-2.338867"], ['latitude' => "43.100452", 'longitude' => "-2.338936"], ['latitude' => "43.100458", 'longitude' => "-2.339000"], ['latitude' => "43.100437", 'longitude' => "-2.339105"], ['latitude' => "43.100433", 'longitude' => "-2.339198"], ['latitude' => "43.100437", 'longitude' => "-2.339308"], ['latitude' => "43.100412", 'longitude' => "-2.339410"], ['latitude' => "43.100417", 'longitude' => "-2.339513"], ['latitude' => "43.100429", 'longitude' => "-2.339554"], ['latitude' => "43.100462", 'longitude' => "-2.339590"], ['latitude' => "43.100488", 'longitude' => "-2.339711"], ['latitude' => "43.100498", 'longitude' => "-2.339798"], ['latitude' => "43.100496", 'longitude' => "-2.339912"], ['latitude' => "43.100485", 'longitude' => "-2.340068"], ['latitude' => "43.100480", 'longitude' => "-2.340238"], ['latitude' => "43.100478", 'longitude' => "-2.340321"], ['latitude' => "43.100490", 'longitude' => "-2.340433"], ['latitude' => "43.100506", 'longitude' => "-2.340509"], ['latitude' => "43.100511", 'longitude' => "-2.340631"], ['latitude' => "43.100542", 'longitude' => "-2.340766"], ['latitude' => "43.100570", 'longitude' => "-2.340794"], ['latitude' => "43.100585", 'longitude' => "-2.340928"], ['latitude' => "43.100586", 'longitude' => "-2.340995"], ['latitude' => "43.100530", 'longitude' => "-2.341106"], ['latitude' => "43.100488", 'longitude' => "-2.341205"], ['latitude' => "43.100507", 'longitude' => "-2.341287"], ['latitude' => "43.100473", 'longitude' => "-2.341368"], ['latitude' => "43.100448", 'longitude' => "-2.341475"], ['latitude' => "43.100478", 'longitude' => "-2.341655"], ['latitude' => "43.100532", 'longitude' => "-2.341828"], ['latitude' => "43.100599", 'longitude' => "-2.341968"], ['latitude' => "43.100633", 'longitude' => "-2.342149"], ['latitude' => "43.100661", 'longitude' => "-2.342305"], ['latitude' => "43.100704", 'longitude' => "-2.342492"], ['latitude' => "43.100753", 'longitude' => "-2.342657"], ['latitude' => "43.100798", 'longitude' => "-2.342765"], ['latitude' => "43.100885", 'longitude' => "-2.343007"], ['latitude' => "43.100883", 'longitude' => "-2.343118"], ['latitude' => "43.100948", 'longitude' => "-2.343286"], ['latitude' => "43.101004", 'longitude' => "-2.343371"], ['latitude' => "43.101106", 'longitude' => "-2.343481"], ['latitude' => "43.101244", 'longitude' => "-2.343626"], ['latitude' => "43.101378", 'longitude' => "-2.343782"], ['latitude' => "43.101404", 'longitude' => "-2.343806"], ['latitude' => "43.101592", 'longitude' => "-2.343936"], ['latitude' => "43.101775", 'longitude' => "-2.344197"], ['latitude' => "43.102032", 'longitude' => "-2.344466"], ['latitude' => "43.102194", 'longitude' => "-2.344619"], ['latitude' => "43.102448", 'longitude' => "-2.345029"], ['latitude' => "43.102591", 'longitude' => "-2.345166"], ['latitude' => "43.102683", 'longitude' => "-2.345319"], ['latitude' => "43.102958", 'longitude' => "-2.345709"], ['latitude' => "43.103111", 'longitude' => "-2.345919"], ['latitude' => "43.103250", 'longitude' => "-2.346146"], ['latitude' => "43.103332", 'longitude' => "-2.346447"], ['latitude' => "43.103503", 'longitude' => "-2.346647"], ['latitude' => "43.103685", 'longitude' => "-2.346910"], ['latitude' => "43.103870", 'longitude' => "-2.347197"], ['latitude' => "43.104103", 'longitude' => "-2.347494"], ['latitude' => "43.104215", 'longitude' => "-2.347652"], ['latitude' => "43.104368", 'longitude' => "-2.347789"], ['latitude' => "43.104493", 'longitude' => "-2.347949"], ['latitude' => "43.104826", 'longitude' => "-2.348172"], ['latitude' => "43.105092", 'longitude' => "-2.348331"], ['latitude' => "43.105321", 'longitude' => "-2.348476"], ['latitude' => "43.105632", 'longitude' => "-2.348611"], ['latitude' => "43.105714", 'longitude' => "-2.348685"], ['latitude' => "43.105874", 'longitude' => "-2.348780"], ['latitude' => "43.106048", 'longitude' => "-2.348865"], ['latitude' => "43.106162", 'longitude' => "-2.348865"], ['latitude' => "43.106249", 'longitude' => "-2.348952"], ['latitude' => "43.106381", 'longitude' => "-2.349055"], ['latitude' => "43.106471", 'longitude' => "-2.349172"], ['latitude' => "43.106566", 'longitude' => "-2.349248"], ['latitude' => "43.106668", 'longitude' => "-2.349298"], ['latitude' => "43.106754", 'longitude' => "-2.349378"], ['latitude' => "43.106768", 'longitude' => "-2.349456"], ['latitude' => "43.106781", 'longitude' => "-2.349551"], ['latitude' => "43.106776", 'longitude' => "-2.349613"], ['latitude' => "43.106752", 'longitude' => "-2.349742"], ['latitude' => "43.106718", 'longitude' => "-2.349892"], ['latitude' => "43.106632", 'longitude' => "-2.350061"], ['latitude' => "43.106587", 'longitude' => "-2.350165"], ['latitude' => "43.106543", 'longitude' => "-2.350277"], ['latitude' => "43.106474", 'longitude' => "-2.350434"], ['latitude' => "43.106406", 'longitude' => "-2.350592"], ['latitude' => "43.106355", 'longitude' => "-2.350770"], ['latitude' => "43.106359", 'longitude' => "-2.350944"], ['latitude' => "43.106335", 'longitude' => "-2.351296"], ['latitude' => "43.106349", 'longitude' => "-2.351624"], ['latitude' => "43.106355", 'longitude' => "-2.351718"], ['latitude' => "43.106348", 'longitude' => "-2.351883"], ['latitude' => "43.106337", 'longitude' => "-2.352135"], ['latitude' => "43.106328", 'longitude' => "-2.352348"], ['latitude' => "43.106547", 'longitude' => "-2.352677"], ['latitude' => "43.106846", 'longitude' => "-2.353256"], ['latitude' => "43.107081", 'longitude' => "-2.353607"], ['latitude' => "43.107427", 'longitude' => "-2.353757"], ['latitude' => "43.107787", 'longitude' => "-2.353880"], ['latitude' => "43.107986", 'longitude' => "-2.354029"], ['latitude' => "43.108125", 'longitude' => "-2.354345"], ['latitude' => "43.108177", 'longitude' => "-2.354674"], ['latitude' => "43.108175", 'longitude' => "-2.354903"], ['latitude' => "43.108183", 'longitude' => "-2.354985"], ['latitude' => "43.108191", 'longitude' => "-2.355106"], ['latitude' => "43.108175", 'longitude' => "-2.355213"], ['latitude' => "43.108129", 'longitude' => "-2.355338"], ['latitude' => "43.108068", 'longitude' => "-2.355490"], ['latitude' => "43.108015", 'longitude' => "-2.355626"], ['latitude' => "43.107939", 'longitude' => "-2.355834"], ['latitude' => "43.107878", 'longitude' => "-2.355995"], ['latitude' => "43.107821", 'longitude' => "-2.356095"], ['latitude' => "43.107742", 'longitude' => "-2.356273"], ['latitude' => "43.107762", 'longitude' => "-2.356463"], ['latitude' => "43.107788", 'longitude' => "-2.356622"], ['latitude' => "43.107783", 'longitude' => "-2.356875"], ['latitude' => "43.107807", 'longitude' => "-2.357186"], ['latitude' => "43.107797", 'longitude' => "-2.357414"], ['latitude' => "43.107829", 'longitude' => "-2.357772"], ['latitude' => "43.107827", 'longitude' => "-2.358018"], ['latitude' => "43.107840", 'longitude' => "-2.358166"], ['latitude' => "43.107850", 'longitude' => "-2.358302"], ['latitude' => "43.107967", 'longitude' => "-2.358385"], ['latitude' => "43.108207", 'longitude' => "-2.358546"], ['latitude' => "43.108499", 'longitude' => "-2.358695"], ['latitude' => "43.109085", 'longitude' => "-2.358918"], ['latitude' => "43.109581", 'longitude' => "-2.359081"], ['latitude' => "43.109699", 'longitude' => "-2.359128"], ['latitude' => "43.109813", 'longitude' => "-2.359364"], ['latitude' => "43.109905", 'longitude' => "-2.359471"], ['latitude' => "43.110450", 'longitude' => "-2.359841"], ['latitude' => "43.110771", 'longitude' => "-2.360015"], ['latitude' => "43.111255", 'longitude' => "-2.360393"], ['latitude' => "43.112183", 'longitude' => "-2.360861"], ['latitude' => "43.112716", 'longitude' => "-2.361098"], ['latitude' => "43.112967", 'longitude' => "-2.361220"], ['latitude' => "43.113037", 'longitude' => "-2.361520"], ['latitude' => "43.113028", 'longitude' => "-2.361566"], ['latitude' => "43.112834", 'longitude' => "-2.361892"], ['latitude' => "43.112637", 'longitude' => "-2.362214"], ['latitude' => "43.112405", 'longitude' => "-2.362574"], ['latitude' => "43.112155", 'longitude' => "-2.362917"], ['latitude' => "43.111665", 'longitude' => "-2.363576"], ['latitude' => "43.111506", 'longitude' => "-2.363763"], ['latitude' => "43.111418", 'longitude' => "-2.363878"], ['latitude' => "43.111277", 'longitude' => "-2.364057"], ['latitude' => "43.111054", 'longitude' => "-2.364487"], ['latitude' => "43.110732", 'longitude' => "-2.365519"], ['latitude' => "43.110683", 'longitude' => "-2.365792"], ['latitude' => "43.110587", 'longitude' => "-2.366131"], ['latitude' => "43.110523", 'longitude' => "-2.366337"], ['latitude' => "43.110290", 'longitude' => "-2.366706"], ['latitude' => "43.110191", 'longitude' => "-2.366841"], ['latitude' => "43.109832", 'longitude' => "-2.367321"], ['latitude' => "43.109741", 'longitude' => "-2.367470"], ['latitude' => "43.109651", 'longitude' => "-2.367535"], ['latitude' => "43.109479", 'longitude' => "-2.367697"], ['latitude' => "43.109257", 'longitude' => "-2.367873"], ['latitude' => "43.109007", 'longitude' => "-2.368015"], ['latitude' => "43.108862", 'longitude' => "-2.368064"], ['latitude' => "43.108639", 'longitude' => "-2.368106"], ['latitude' => "43.108353", 'longitude' => "-2.368223"], ['latitude' => "43.108138", 'longitude' => "-2.368316"], ['latitude' => "43.107760", 'longitude' => "-2.368546"], ['latitude' => "43.107509", 'longitude' => "-2.368608"], ['latitude' => "43.107151", 'longitude' => "-2.368378"], ['latitude' => "43.106536", 'longitude' => "-2.367869"], ['latitude' => "43.106354", 'longitude' => "-2.367887"], ['latitude' => "43.106191", 'longitude' => "-2.367938"], ['latitude' => "43.106025", 'longitude' => "-2.367791"], ['latitude' => "43.105612", 'longitude' => "-2.367294"], ['latitude' => "43.105464", 'longitude' => "-2.367111"], ['latitude' => "43.105128", 'longitude' => "-2.366941"], ['latitude' => "43.104835", 'longitude' => "-2.366796"], ['latitude' => "43.104467", 'longitude' => "-2.366850"], ['latitude' => "43.104483", 'longitude' => "-2.367380"], ['latitude' => "43.104461", 'longitude' => "-2.367891"], ['latitude' => "43.104945", 'longitude' => "-2.369472"], ['latitude' => "43.104639", 'longitude' => "-2.371251"], ['latitude' => "43.104567", 'longitude' => "-2.373132"], ['latitude' => "43.104309", 'longitude' => "-2.373391"], ['latitude' => "43.103660", 'longitude' => "-2.373309"], ['latitude' => "43.103477", 'longitude' => "-2.373360"], ['latitude' => "43.103309", 'longitude' => "-2.373532"], ['latitude' => "43.103277", 'longitude' => "-2.373661"], ['latitude' => "43.103259", 'longitude' => "-2.374031"], ['latitude' => "43.103252", 'longitude' => "-2.374178"], ['latitude' => "43.103137", 'longitude' => "-2.374353"], ['latitude' => "43.103003", 'longitude' => "-2.374498"], ['latitude' => "43.102806", 'longitude' => "-2.374560"], ['latitude' => "43.102206", 'longitude' => "-2.374758"], ['latitude' => "43.101336", 'longitude' => "-2.375653"], ['latitude' => "43.100845", 'longitude' => "-2.375982"], ['latitude' => "43.100446", 'longitude' => "-2.376120"], ['latitude' => "43.100064", 'longitude' => "-2.376195"], ['latitude' => "43.099934", 'longitude' => "-2.376466"], ['latitude' => "43.099880", 'longitude' => "-2.376644"], ['latitude' => "43.099990", 'longitude' => "-2.377101"], ['latitude' => "43.099963", 'longitude' => "-2.377561"], ['latitude' => "43.099815", 'longitude' => "-2.377809"], ['latitude' => "43.099367", 'longitude' => "-2.378077"], ['latitude' => "43.099221", 'longitude' => "-2.378172"], ['latitude' => "43.098891", 'longitude' => "-2.377437"], ['latitude' => "43.098765", 'longitude' => "-2.377314"], ['latitude' => "43.098661", 'longitude' => "-2.377465"], ['latitude' => "43.098577", 'longitude' => "-2.377854"], ['latitude' => "43.098208", 'longitude' => "-2.378040"], ['latitude' => "43.097998", 'longitude' => "-2.377930"], ['latitude' => "43.097640", 'longitude' => "-2.377720"], ['latitude' => "43.097621", 'longitude' => "-2.377790"], ['latitude' => "43.097672", 'longitude' => "-2.377961"], ['latitude' => "43.097740", 'longitude' => "-2.378186"], ['latitude' => "43.098046", 'longitude' => "-2.378780"], ['latitude' => "43.098186", 'longitude' => "-2.379328"], ['latitude' => "43.098081", 'longitude' => "-2.379769"], ['latitude' => "43.098018", 'longitude' => "-2.379857"], ['latitude' => "43.097682", 'longitude' => "-2.379823"], ['latitude' => "43.097219", 'longitude' => "-2.379502"], ['latitude' => "43.096843", 'longitude' => "-2.379685"], ['latitude' => "43.098090", 'longitude' => "-2.382180"], ['latitude' => "43.099102", 'longitude' => "-2.383214"], ['latitude' => "43.099393", 'longitude' => "-2.382964"], ['latitude' => "43.098597", 'longitude' => "-2.381437"], ['latitude' => "43.098334", 'longitude' => "-2.381688"], ['latitude' => "43.098207", 'longitude' => "-2.381775"]]);
         $galleryList = $this->flickr->request('flickr.galleries.getList', [
            'api_key' => env('FLICKR_KEY'),
            'user_id' => env('FLICKR_USER_ID')
        ]);
         $galleryImages=array();
         foreach ($galleryList->galleries['gallery'] as $gallery) {
            $imgTitleUrls=array();
            $imgList = $this->flickr->request('flickr.galleries.getPhotos', [
                'api_key' => env('FLICKR_KEY'),
                'gallery_id' => $gallery['gallery_id']
            ]);  
            foreach ($imgList->photos['photo'] as $img) {
                $imgTitleUrls[] = array('title'=>$img['title'],'url'=>"http://farm".$img['farm'].".staticflickr.com/"."/".$img['server']."/".$img['id']."_".$img['secret']."_c".".jpg");  
            }
            $galleryImages[] =array('gallery_id'=>$gallery['gallery_id'],'title'=>$gallery['title']['_content'],'images' => $imgTitleUrls);
         }
         return view('home.home')->with('galleryImages', $galleryImages);
    }

    /**
     * Display the specified resource.
     *
     * @param  int $id
     * @return \Illuminate\Http\Response
     */
    public function show(FlickrPhotoRequest $request, $id)
    {
        $photo = $this->flickr->findOrThrowException($id);

        return view('flickr.photo', compact('photo'));
    }
}
